// GENERATED FILE - DO NOT EDIT.
// Generated by gen_builtin_symbols.py using data from builtin_variables.json and
// builtin_function_declarations.txt.
//
// Copyright 2020 The ANGLE Project Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.
//
// ImmutableString_ESSL_autogen.cpp: Wrapper for static or pool allocated char arrays, that are
// guaranteed to be valid and unchanged for the duration of the compilation. Implements
// mangledNameHash using perfect hash function from gen_builtin_symbols.py

#include "compiler/translator/ImmutableString.h"

std::ostream &operator<<(std::ostream &os, const sh::ImmutableString &str)
{
    return os.write(str.data(), str.length());
}

#if defined(_MSC_VER)
#    pragma warning(disable : 4309)  // truncation of constant value
#endif

namespace
{

constexpr int mangledkT1[] = {437,  164,  1190, 337,  1309, 1440, 661,  1301, 51,   1474,
                              1598, 68,   797,  932,  696,  142,  1145, 1271, 1646, 266,
                              1613, 1551, 1702, 1688, 1347, 605,  887,  405,  876,  1419,
                              406,  1469, 42,   339,  1652, 555,  1738};
constexpr int mangledkT2[] = {1439, 111,  1038, 1729, 1160, 17,   1386, 399,  1129, 471,
                              1674, 729,  297,  491,  1455, 445,  1696, 1037, 1260, 172,
                              1591, 1709, 66,   1357, 1054, 1164, 1468, 1608, 23,   376,
                              235,  987,  1372, 1019, 1540, 519,  1517};
constexpr int mangledkG[]  = {
    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    1039, 0,    0,    0,    0,    0,
    0,    0,    0,    0,    627,  0,    0,    0,    0,    0,    1292, 0,    225,  0,    1183, 0,
    0,    0,    0,    0,    0,    1430, 0,    331,  0,    0,    0,    0,    0,    0,    0,    155,
    0,    0,    0,    0,    0,    29,   1099, 0,    0,    268,  0,    291,  0,    0,    0,    0,
    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    1531, 0,    0,    0,    1382, 0,
    0,    0,    0,    0,    875,  0,    736,  0,    380,  0,    0,    0,    474,  0,    640,  0,
    1644, 0,    106,  0,    0,    1106, 117,  0,    70,   0,    0,    1662, 0,    0,    0,    693,
    0,    52,   0,    0,    139,  0,    0,    0,    0,    1290, 0,    643,  388,  0,    1410, 0,
    1279, 174,  0,    0,    612,  330,  1491, 759,  0,    0,    0,    0,    1075, 1106, 0,    97,
    0,    1259, 205,  0,    0,    0,    0,    0,    0,    0,    0,    222,  0,    1268, 0,    0,
    0,    265,  0,    983,  0,    693,  0,    0,    370,  1600, 478,  0,    0,    1193, 557,  0,
    349,  0,    187,  603,  1701, 1745, 0,    966,  0,    0,    0,    0,    1136, 0,    483,  0,
    763,  0,    0,    609,  0,    0,    0,    187,  0,    0,    184,  999,  0,    0,    211,  270,
    0,    314,  0,    0,    0,    0,    0,    49,   0,    1255, 0,    0,    0,    1280, 4,    541,
    0,    0,    171,  0,    0,    0,    100,  0,    1385, 0,    0,    0,    0,    0,    0,    0,
    1749, 41,   0,    207,  197,  336,  0,    0,    433,  275,  0,    0,    0,    0,    0,    1704,
    377,  0,    334,  667,  663,  0,    0,    0,    1751, 0,    0,    0,    0,    867,  172,  0,
    0,    820,  0,    0,    0,    0,    127,  0,    669,  75,   0,    0,    0,    0,    1021, 0,
    461,  0,    0,    1047, 0,    1433, 0,    458,  0,    183,  0,    0,    0,    1707, 1757, 231,
    0,    0,    1333, 0,    417,  0,    0,    0,    1521, 0,    780,  0,    0,    1268, 0,    0,
    326,  0,    0,    1267, 0,    0,    305,  820,  186,  356,  1406, 0,    614,  552,  0,    931,
    0,    0,    0,    0,    0,    1594, 0,    0,    431,  0,    0,    0,    0,    0,    0,    0,
    1722, 0,    1094, 0,    0,    630,  784,  0,    1695, 0,    0,    537,  0,    0,    0,    0,
    0,    1548, 0,    0,    0,    438,  1377, 0,    709,  0,    0,    0,    1728, 1524, 0,    0,
    894,  902,  0,    0,    0,    690,  0,    1329, 464,  0,    0,    456,  899,  0,    0,    737,
    427,  260,  130,  0,    1666, 0,    29,   1481, 0,    313,  1648, 0,    0,    684,  25,   692,
    0,    0,    1400, 384,  0,    0,    0,    247,  0,    27,   0,    883,  1403, 1076, 383,  1330,
    496,  1263, 1384, 0,    0,    1485, 0,    842,  52,   0,    0,    1723, 0,    0,    256,  635,
    0,    0,    0,    0,    519,  1495, 0,    0,    399,  0,    0,    0,    0,    0,    0,    0,
    0,    1395, 0,    0,    1731, 0,    185,  1110, 387,  179,  0,    526,  852,  511,  275,  0,
    698,  0,    0,    0,    0,    0,    882,  1608, 0,    370,  0,    0,    30,   1753, 0,    0,
    993,  0,    1663, 0,    0,    1194, 0,    0,    1002, 0,    0,    0,    513,  0,    112,  387,
    0,    264,  630,  1008, 773,  0,    854,  0,    0,    0,    0,    74,   1157, 464,  1658, 0,
    597,  517,  196,  0,    0,    990,  512,  0,    0,    0,    371,  0,    246,  1736, 0,    1373,
    0,    0,    1344, 0,    478,  0,    0,    0,    243,  1098, 0,    0,    71,   1126, 0,    0,
    331,  0,    0,    1396, 1513, 754,  0,    896,  0,    0,    1472, 0,    0,    544,  767,  1540,
    195,  0,    0,    189,  1654, 0,    1626, 0,    0,    0,    809,  0,    475,  0,    1080, 0,
    1345, 435,  1482, 757,  389,  180,  334,  1730, 0,    0,    1147, 369,  0,    464,  1302, 0,
    0,    140,  0,    438,  1174, 1541, 82,   242,  410,  0,    0,    0,    662,  0,    0,    60,
    0,    281,  1042, 0,    62,   1225, 1610, 0,    291,  1474, 0,    749,  1391, 0,    124,  751,
    1284, 0,    0,    1384, 1627, 0,    103,  275,  0,    311,  816,  1230, 1298, 0,    804,  0,
    0,    0,    0,    134,  727,  727,  1114, 0,    456,  700,  0,    0,    0,    129,  0,    0,
    0,    0,    0,    78,   0,    0,    0,    0,    0,    686,  0,    0,    0,    588,  0,    120,
    1571, 93,   0,    0,    700,  51,   574,  382,  0,    0,    0,    0,    0,    603,  1600, 1374,
    713,  118,  770,  627,  1599, 0,    0,    164,  992,  0,    0,    0,    0,    0,    12,   0,
    0,    0,    1073, 0,    827,  581,  0,    269,  332,  0,    0,    0,    0,    457,  625,  393,
    92,   0,    0,    0,    14,   1687, 441,  1168, 0,    64,   0,    0,    0,    385,  0,    1749,
    0,    1756, 558,  53,   965,  1168, 0,    1341, 0,    255,  0,    0,    769,  0,    444,  0,
    0,    284,  1358, 0,    0,    706,  566,  1758, 931,  0,    520,  0,    0,    540,  0,    0,
    0,    1714, 0,    212,  1024, 0,    394,  0,    287,  1735, 1046, 0,    0,    0,    85,   405,
    0,    0,    829,  515,  694,  1727, 0,    187,  1248, 554,  0,    18,   845,  1323, 0,    1745,
    0,    892,  0,    434,  146,  1279, 1705, 296,  0,    0,    334,  1637, 0,    808,  0,    168,
    485,  0,    0,    161,  0,    0,    889,  0,    256,  1726, 380,  0,    746,  573,  844,  1373,
    1050, 0,    0,    1371, 0,    0,    0,    0,    399,  1432, 361,  0,    0,    0,    273,  0,
    973,  1062, 279,  0,    677,  0,    0,    298,  0,    115,  319,  1510, 1483, 0,    1741, 364,
    360,  0,    0,    591,  0,    953,  0,    819,  363,  237,  898,  492,  718,  1679, 0,    1591,
    442,  680,  1478, 0,    0,    0,    1270, 0,    0,    1130, 0,    84,   0,    0,    1691, 53,
    1182, 0,    0,    0,    654,  324,  121,  0,    1206, 0,    403,  950,  1711, 0,    195,  0,
    666,  1545, 833,  0,    0,    0,    126,  0,    0,    0,    837,  0,    693,  377,  560,  695,
    544,  66,   0,    0,    520,  1044, 577,  25,   65,   884,  559,  0,    363,  0,    1405, 0,
    309,  389,  237,  261,  1204, 0,    823,  1022, 0,    0,    0,    1321, 1609, 1155, 214,  620,
    0,    0,    545,  587,  328,  0,    0,    0,    1672, 0,    0,    0,    0,    0,    0,    0,
    0,    1126, 87,   0,    0,    0,    752,  1318, 0,    0,    0,    850,  0,    863,  1201, 0,
    687,  86,   1270, 1637, 284,  55,   83,   1050, 0,    374,  1283, 0,    1215, 1295, 0,    0,
    0,    754,  267,  884,  633,  217,  0,    1156, 1736, 230,  0,    1348, 0,    1289, 0,    1546,
    0,    262,  1429, 0,    0,    813,  0,    0,    769,  0,    0,    0,    104,  825,  318,  1493,
    1595, 0,    514,  0,    582,  68,   0,    0,    0,    0,    0,    0,    375,  292,  642,  374,
    371,  884,  0,    0,    1414, 1257, 894,  0,    0,    200,  0,    0,    749,  686,  77,   689,
    38,   0,    648,  0,    0,    514,  300,  692,  245,  323,  457,  0,    237,  503,  0,    617,
    815,  0,    861,  261,  1292, 0,    1520, 0,    1081, 0,    0,    0,    921,  859,  0,    1602,
    785,  0,    425,  0,    0,    0,    0,    679,  77,   307,  1182, 1464, 0,    0,    353,  0,
    0,    84,   135,  0,    0,    0,    284,  1681, 858,  0,    807,  0,    295,  0,    394,  779,
    106,  597,  286,  581,  0,    393,  0,    582,  0,    411,  1402, 0,    401,  0,    920,  1579,
    0,    99,   0,    352,  872,  963,  1556, 492,  0,    0,    0,    0,    0,    0,    0,    953,
    531,  0,    641,  0,    277,  0,    0,    0,    274,  0,    0,    0,    847,  0,    888,  0,
    3,    1408, 0,    0,    1670, 141,  623,  0,    1739, 1011, 1249, 27,   0,    1202, 669,  0,
    0,    424,  873,  0,    0,    394,  145,  879,  230,  1711, 1569, 0,    447,  1752, 1053, 0,
    0,    0,    0,    0,    0,    96,   1696, 387,  0,    1606, 0,    401,  1526, 0,    780,  0,
    186,  0,    15,   1034, 32,   0,    175,  386,  219,  0,    0,    0,    0,    518,  0,    1222,
    500,  0,    0,    789,  173,  0,    176,  760,  0,    0,    0,    897,  169,  0,    577,  1742,
    937,  454,  479,  781,  709,  510,  656,  1306, 1091, 853,  329,  0,    1543, 0,    152,  0,
    0,    134,  612,  0,    0,    0,    455,  1448, 0,    678,  285,  0,    817,  0,    0,    812,
    1196, 0,    618,  1128, 856,  0,    0,    644,  270,  0,    722,  46,   0,    444,  765,  1244,
    0,    1681, 1572, 84,   0,    0,    169,  1562, 476,  982,  0,    249,  0,    0,    0,    478,
    427,  798,  427,  333,  0,    47,   0,    43,   0,    902,  0,    429,  733,  929,  126,  1318,
    1571, 0,    0,    1474, 0,    0,    1040, 738,  0,    0,    215,  1423, 674,  0,    740,  422,
    0,    46,   17,   509,  0,    0,    606,  745,  15,   168,  0,    0,    461,  111,  1247, 762,
    71,   1735, 1565, 0,    480,  1194, 0,    797,  651,  231,  0,    1228, 533,  0,    1312, 0,
    1007, 1674, 534,  277,  789,  0,    0,    571,  0,    1417, 151,  0,    594,  471,  0,    0,
    0,    0,    555,  1414, 784,  0,    0,    0,    0,    1161, 0,    0,    463,  1443, 1735, 1132,
    230,  1652, 281,  1488, 0,    0,    0,    96,   70,   320,  1726, 110,  703,  1282, 595,  182,
    1468, 439,  540,  0,    1069, 1463, 76,   1692, 0,    515,  748,  928,  0,    1556, 0,    839,
    175,  1410, 323,  122,  1725, 811,  42,   559,  0,    1488, 0,    0,    916,  697,  0,    330,
    579,  390,  814,  0,    708,  0,    911,  108,  219,  1363, 0,    0,    0,    16,   350,  0,
    0,    548,  421,  0,    0,    579,  24,   0,    501,  325,  0,    546,  0,    0,    0,    0,
    1220, 0,    873,  1418, 0,    1491, 317,  30,   83,   223,  300,  0,    0,    0,    138,  1326,
    0,    0,    302,  0,    0,    0,    327,  0,    519,  1744, 0,    83,   0,    26,   150,  1114,
    883,  228,  594,  0,    290,  0,    813,  0,    0,    0,    0,    720,  0,    417,  413,  0,
    1224, 0,    1483, 0,    692,  1606, 609,  69,   0,    147,  462,  607,  932,  0,    0,    288,
    0,    0,    0,    647,  308,  458,  240,  0,    0,    1219, 0,    0,    0,    818,  431,  31,
    0,    0,    563,  1061, 1687, 0,    0,    607,  717,  0,    1496, 1095, 469,  0,    0,    821,
    578,  624,  314,  1074, 12,   0,    6,    1405, 0,    499,  0,    0,    50,   0,    1626, 673,
    1002, 0,    1202, 0,    139,  0,    368,  191,  801,  0,    130,  462,  144,  180,  1315, 846,
    18,   636,  447,  0,    742,  1698, 175,  905,  118,  132,  0,    0,    204,  1048, 0,    832,
    0,    1577, 0,    0,    1588, 1222, 1414, 1453, 940,  0,    587,  1751, 0,    0,    679,  143,
    432,  335,  892,  761,  1286, 0,    178,  0,    637,  0,    1271, 0,    841,  1251, 830,  414,
    715,  0,    0,    1222, 303,  415,  285,  38,   96,   0,    1539, 1651, 0,    108,  0,    1124,
    0,    1471, 1221, 0,    770,  556,  0,    34,   772,  348,  872,  0,    0,    0,    806,  918,
    0,    0,    910,  473,  0,    602,  1379, 1358, 1534, 277,  730,  0,    467,  0,    526,  340,
    1473, 793,  164,  855,  707,  456,  0,    153,  743,  440,  0,    1673, 0,    1197, 556};

int MangledHashG(const char *key, const int *T)
{
    int sum = 0;

    for (int i = 0; key[i] != '\0'; i++)
    {
        sum += T[i] * key[i];
        sum %= 1759;
    }
    return mangledkG[sum];
}

int MangledPerfectHash(const char *key)
{
    if (strlen(key) > 37)
        return 0;

    return (MangledHashG(key, mangledkT1) + MangledHashG(key, mangledkT2)) % 1759;
}

constexpr int unmangledkT1[] = {24,  37,  215, 108, 196, 259, 183, 65,  245, 70, 67,  8,   52,
                                251, 151, 0,   133, 59,  252, 67,  201, 177, 70, 104, 184, 66};
constexpr int unmangledkT2[] = {200, 197, 43, 111, 38,  4,   24,  213, 190, 171, 106, 166, 257,
                                159, 258, 23, 260, 115, 215, 113, 130, 157, 72,  92,  120, 59};
constexpr int unmangledkG[]  = {
    0,   0,   0,   0,   0,   0,   0,   108, 0,   0,   0,   0,   210, 0,   0,   0,   82,  0,   114,
    21,  245, 0,   7,   0,   0,   0,   0,   32,  81,  0,   19,  0,   79,  0,   155, 0,   69,  142,
    36,  219, 0,   0,   0,   121, 205, 62,  0,   90,  73,  188, 0,   0,   0,   0,   0,   257, 0,
    228, 0,   115, 0,   47,  134, 0,   0,   116, 0,   0,   202, 0,   0,   97,  161, 0,   0,   198,
    189, 13,  64,  0,   0,   0,   237, 62,  0,   36,  0,   256, 121, 33,  22,  0,   117, 0,   31,
    0,   0,   142, 194, 259, 0,   0,   56,  105, 116, 27,  212, 17,  67,  70,  10,  0,   0,   0,
    75,  0,   106, 68,  0,   104, 0,   0,   0,   1,   0,   8,   12,  147, 0,   0,   105, 87,  0,
    0,   88,  45,  2,   36,  37,  46,  0,   0,   52,  0,   251, 240, 134, 177, 131, 0,   0,   0,
    50,  0,   66,  0,   0,   52,  248, 0,   0,   201, 6,   53,  122, 13,  10,  0,   0,   118, 68,
    5,   0,   0,   0,   0,   0,   0,   206, 235, 21,  0,   241, 214, 51,  0,   0,   89,  98,  0,
    243, 97,  0,   214, 0,   0,   129, 39,  125, 103, 0,   120, 55,  121, 26,  10,  235, 65,  44,
    0,   135, 0,   0,   0,   54,  101, 160, 238, 64,  68,  0,   5,   27,  102, 231, 0,   164, 45,
    0,   215, 0,   148, 0,   30,  0,   139, 0,   0,   212, 0,   85,  61,  55,  35,  130, 12,  0,
    0,   146, 206, 0,   91,  64,  6,   89,  218, 28,  27,  254, 95,  0};

int UnmangledHashG(const char *key, const int *T)
{
    int sum = 0;

    for (int i = 0; key[i] != '\0'; i++)
    {
        sum += T[i] * key[i];
        sum %= 261;
    }
    return unmangledkG[sum];
}

int UnmangledPerfectHash(const char *key)
{
    if (strlen(key) > 26)
        return 0;

    return (UnmangledHashG(key, unmangledkT1) + UnmangledHashG(key, unmangledkT2)) % 261;
}

}  // namespace

namespace sh
{

template <>
const size_t ImmutableString::FowlerNollVoHash<4>::kFnvPrime = 16777619u;

template <>
const size_t ImmutableString::FowlerNollVoHash<4>::kFnvOffsetBasis = 0x811c9dc5u;

template <>
const size_t ImmutableString::FowlerNollVoHash<8>::kFnvPrime =
    static_cast<size_t>(1099511628211ull);

template <>
const size_t ImmutableString::FowlerNollVoHash<8>::kFnvOffsetBasis =
    static_cast<size_t>(0xcbf29ce484222325ull);

uint32_t ImmutableString::mangledNameHash() const
{
    return MangledPerfectHash(data());
}

uint32_t ImmutableString::unmangledNameHash() const
{
    return UnmangledPerfectHash(data());
}

}  // namespace sh
